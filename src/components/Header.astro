---
import Link from './Link';

const {
  title
} = Astro.props;

const currentPath = Astro.url.pathname;
const isActive = (path) =>
  path === '/'
    ? currentPath === '/'
    : currentPath.startsWith(path);
---

<header class="sticky top-0 z-50 backdrop-blur bg-surface/80 px-4 py-4 muted-bottom-rule shadow-sm">
  <nav class="max-w-4xl mx-auto flex justify-between items-center">
    <p class="font-title text-heading text-xl font-bold leading-tight mb-0">{title}</p>
    <ul class="flex list-none space-x-4 mb-0">
      <li>
        <Link href="/" class={`nav-link ${isActive('/') ? 'active' : ''}`}>Home</Link>
      </li>
      <li>
        <Link href="/about" class={`nav-link ${isActive('/about') ? 'active' : ''}`}>About</Link>
      </li>
      <li>
        <Link href="/portfolio" class={`nav-link ${isActive('/portfolio') ? 'active' : ''}`}>Portfolio</Link>
      </li>
      <li>
        <Link href="/blog" class={`nav-link ${isActive('/blog') ? 'active' : ''}`}>Blog</Link>
      </li>
    </ul>
  </nav>
</header>
